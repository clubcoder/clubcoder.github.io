<script src="https://cdn.firebase.com/js/client/2.4.0/firebase.js"></script>
    <script>
    function keyGen()
{
    var text = "";
    var possible = "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789";

    for( var i=0; i < 15; i++ )
        text += possible.charAt(Math.floor(Math.random() * possible.length));

    return text;
}
    function success(email) {
        switch(expression) {
            case "iandeanc@gmail.com":
                var username = "Ian";
                break;
            case "jeffmeng7@gmail.com":
                var username = "Jeffrey";
                break;
            case "jkmexpress@yahoo.com":
                var username = "Jeffrey";
                break;
            case "lucaschen188@yahoo.com":
                var username = "Lucas";
                break;
            case "lucasbchen@gmail.com":
                var username = "Lucas";
                break;
            case "chefdude14@gmail.com":
                var username = "Daniel";
                break;
            default:
                var username = "none";
                break;
        }
        
        var x = keyGen()
        fb.child(x).set(username);
            window.location.href = "http://im.clubcoder.tk/refer.html?token=" + x + "&username=" + username + "&continue=http%3A%2F%2Fim.clubcoder.tk%2F";

    }
    var fb = new Firebase("https://ccim2.firebaseio.com");
    if (fb.getAuth()) {
        success(fb.getAuth().google.email)
    } else {
        fb.authWithOAuthRedirect("google", function(error) {
      if (error) {
        console.log("Login Failed!", error);
      } else {
        // We'll never get here, as the page will redirect on success.
      }
    });
    }

    </script>
